:is(form,#filter) summary {
    list-style: revert;
}
::-webkit-details-marker {
    display: initial;
}
nav {
    >a:first-of-type {grid-area: 1/2/3/3;}
    >a:last-of-type {grid-area: 1/3/3/4;}
    >a {
        align-self: center;
        width: 2em; height: 2em;
        outline: .15em solid var(--theme); border-radius: 8em;
        font-size: 1.25em; line-height: 2.15em; 
        color: var(--on) !important;
        position: relative;
        margin-left: .3em;

        &[href$='#toc2'] {outline-color: var(--theme-alt);}
        &::before {
            content: '\e02a';
            position: absolute; left: 50%; top: 50%; transform: translate(-50%,-45%);
            z-index: -1;
            background: conic-gradient(salmon,orange,yellow,yellowgreen,springgreen ,cyan,dodgerblue,mediumslateblue,violet,salmon);
            -webkit-background-clip: text; color: transparent;
            font-size: 1.5em;
        }
    }
}

#filter {
    display: inline-block;
    margin: auto; padding: 0 0.5em;
    user-select: none; -webkit-user-select: none;

    summary {
        text-align: left;
        padding: .2em 0; margin-bottom: .2em;
    }
    summary i {
        font-style: italic; color: var(--on);
    }
    div {
        margin: 0 0 .5em 1em; padding-right: .5em;
        display: flex; flex-wrap: wrap;
        gap: 2em;
    }
    h6 {
        text-align: left;
        display: block;
        margin-bottom: .2em; padding-left: 1em;
    }
    label {
        position: relative;

        &:not(:has(img))::before {line-height: .4rem;}
    }
    div:not(.system) label::after {
        content: '';
        position: absolute; inset: .7em -.5em .2em -.5em;;
        background: var(--light);
        transform: skew(-20deg);
        z-index: -1;
    }
    div.system {
        gap: 1em;

        img {height: 2em;}
    }
    button {margin-left: .5em;}
}

#filter button, caption button {
    padding: 0 .5em;
    background: none;
    border: .1em solid; border-radius: 5em;
}
:is(#regular:not(.new),.searching) caption>:not(label),.loading>*,.loading~* {
    display: none !important;
}

caption {
    margin: .5em auto;
    text-align: right;

    label {
        margin-left: .2em;
        display: inline-block;
        text-align: center;
    }
}

tr {
    cursor: pointer;
}
th>div {
    place-content: center;
    font-weight: normal;
    height: 2.5em; width: calc(100% - 0.2em);
    margin: 0 auto .3em auto; padding-top: .3em;
    border-top: .2em solid hsl(var(--c),50%,calc(20% + var(--b-adj,0%)));
    line-height: 1.2;
    transition: border .5s;
    
    &:hover {filter: brightness(90%);}
    th[data-sortedby] & {border-color: hsl(var(--c),100%,calc(55% + var(--b-adj,0%)));}
    th:first-child & {border-color: hsl(0,0%,25%);}
    th:first-child[data-sortedby] & {border-color: hsl(0,0%,70%);}
}
tfoot {
    visibility: hidden;
}

.note .tablesorter-header-inner {
    font-size: 0.75em;
}
input::placeholder,#filter {
    font-size: 0.8em;
}
caption,caption button,#filter button,#filter label {
    font-size: 0.9em;
}
caption span {
    font-size: 1.4em;
}
    
.boards li {background: var(--light);}

[popover] {
    &.images {
        gap: .5em; grid-template-columns: repeat(3,1fr);
        justify-items: center; 
        padding: 1em calc(50% - min(15em,47.5%));
    }
    &.images>* {
        grid-column: 1/-1;
    }
    a[href*=youtu]::before {
        content: '';
        display: block; width: 3em; height: 3em;
        background: url(https://www.gstatic.com/alkali/e90fc2de5a0e583a01f03acda2e3e61f9577a646.svg) center / contain no-repeat;
    }
    >p {
        font-size: .9em;
        border-bottom: .15em dotted;
        padding: .6em .5em; margin: 0;
        color: var(--on);
    }
    >:is(img,p) {
        width: 100%;
    }
    >img:first-of-type~img:not([src*=detail]) {
        grid-column: initial;
    }
}